\begin{frame}
  \begin{columns}

    \begin{column}{0.4\linewidth}
      \only<1-3>{
        \spinlockClientIICS        
        \begin{tikzpicture}[xscale=1, yscale=1]
          \onslide<2-3>{
            \node (P1) at (0, 0) {\includegraphics[width=0.9\textwidth]{terminated.png}};
            }
          \onslide<3>{
            \node (P2) at (0, 0) {\includegraphics[width=0.7\textwidth]{pending.png}};
            }
        \end{tikzpicture}
      }
    \end{column}

    \begin{column}{0.5\linewidth}
      \only<3>{
        Multiple existing mutual exclusion lock implementations hang if too few fences are used (Oberhauser et al. [2021])
      }
    \end{column}

  \end{columns}
  
\end{frame}

% \begin{frame}{Spinlock terminates under sequential consistency \onslide<4->{[Lamport 1979], \ \ \ but now we use other semantics:}}
\begin{frame}{Spinlock terminates under interleaving semantics}

  \begin{columns}

    \begin{column}{0.4\linewidth}
      \spinlockClientIIExpanded
    \end{column}

    \begin{column}{0.5\linewidth}
      \only<2->{
        \scSystem
      }
    \end{column}

  \end{columns}
   
  \vspace{0.5cm}

  \onslide<3->{
  \begin{center}
    \begin{traceenv}{1.5}{0.9}
      \stepcounter{evctr}
      \node at (\curEv, 1) {$\ulab{}{l}{0}{1}$ \stepcounter{evctr}};
      \node at (\curEv, 0) {$\rlab{}{l}{1}$ \stepcounter{evctr}};
      \node at (\curEv, 0) {$\rlab{}{l}{1}$ \stepcounter{evctr}};
      \node at (\curEv, 1) {$\wlab{}{l}{0}$ \stepcounter{evctr}};
      \node at (\curEv, 0) {$\ulab{}{l}{0}{1}$ \stepcounter{evctr}};
      \node at (\curEv, 0) {$\wlab{}{l}{0}$ \stepcounter{evctr}};
    \end{traceenv}
  \end{center}
  }
  

  % \only<4->{
  % }

  
  % \onslide<4>{%
  %   \tikz[overlay,remember picture]
  %   % \node[fill=white,text=\colorTitleApprox,draw=black]
  %   % at ([xshift=-5cm,yshift=0cm]current page.center){But now we use:};
  %   \myrect
  % }

\end{frame}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "oopsla"
%%% End:
