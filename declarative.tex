% \begin{frame}{Memory fairness definitions vary for different memory models}
%   \begin{itemize}
%   \item SC: none
%   \item TSO: write buffers are eventually flushed
%   \item Release-Acquire, StrongCOH: new messages are eventually read
%   \item \ldots
%   \end{itemize}
% \end{frame}
\begin{frame}{We need to define fairness for different kinds of memory models}
  \begin{center}
    \pause
    {\Large Operational models}:
    \vspace{0.25cm}
    \pause
    \begin{traceenv}{1.4}{0.9}
    \stepcounter{evctr}
    \node at (\curEv-0.5, 1) {$CAS(l, 0, 1)$ \stepcounter{evctr}};
    \node at (\curEv-0.7, 0) {$CAS(l, 0, 1)$ \stepcounter{evctr}};
    \node at (\curEv-0.4, 0) {$CAS(l, 0, 1)$ \stepcounter{evctr}};
    \node at (\curEv-0.7, 1) {$\writeInst{l}{0}$ \stepcounter{evctr}};
    \node at (\curEv-0.7, 0) {\color{red} $CAS(l, 0, 1)$ \stepcounter{evctr}};
    \node at (\curEv-0.8, 1) {\color{blue} \underline{$\mathtt{something \ happens}$} \stepcounter{evctr}};
    
    \node at (\curEv-0.7, 0) {\color{blue} $CAS(l, 0, 1)$ \stepcounter{evctr}};
    \node at (\curEv-0.7, 0) {\color{blue} $\writeInst{l}{0}$ \stepcounter{evctr}};
  \end{traceenv}

  \onslide<4>{%
    \tikz[overlay,remember picture]
    \myrectMulti{Explain}{(5, 3)}{In the paper we specify that for four models}{4cm}{1cm}{white};
  }
  \pause

  \vspace{1cm}
  \pause
  {\Large Declarative models:}
  
  \pause
  \large{And Now for Something Completely Different} \todo{???}

\end{center}
\end{frame}


\begin{frame}{Declarative memory models avoid explicit interleaving}
  \spinlockLibClientIIVert
  \pause
  \begin{minipage}[c]{0.6\linewidth}
  \renewcommand{\hof}{2}
  \renewcommand{\vof}{1}
  \begin{center}
    \begin{tikzpicture}[xscale=2, yscale=0.8]
      \spinlockInfGraphEvents
      \pause \spinlockInfGraphPO
      \pause \spinlockInfGraphRF
      \pause \spinlockInfGraphMO
      % \spinlockInfGraphRelations
      % \spinlockInfGraphComments
    \end{tikzpicture}
        
  \end{center}

    \pause
    \tikz[overlay,remember picture]{
      % \draw[frComp,bend right=120] (7, -1) edge node[] { } (7, 5);
      \myrectMulti{Models}{(5, 0)}{SC: $acyclic(\lPO \cup \lRF \cup \lMO)$\\ TSO: $acyclic(\overline{\lPO} \cup \lRF \cup \lMO)$, $\overline{\lPO} \supset \lPO$}{6cm}{1cm}{white};
    }
    
  \pause
    \tikz[overlay,remember picture]{
      % \draw[frComp,bend right=120] (7, -1) edge node[] { } (7, 5);
      \myrectMulti{Allowed}{(9, 5)}{So far it's allowed\ldots}{3.5cm}{1cm}{white};
    }
  

\end{minipage}

\end{frame}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "oopsla"
%%% End:
